[general]
ui = ttyui
fsync = false
accounts = Datafloq
pythonfile = ~/.offlineimap/support.py

[Account Datafloq]
localrepository = Datafloq-Local
remoterepository = Datafloq-Remote
autorefresh = 5
quick = 10
status_backend = sqlite
postsynchook = notmuch new

[Repository Datafloq-Local]
type = Maildir
localfolders = ~/.maildir/datafloq
nametrans = lambda folder: {'inbox':    'INBOX',
                            'drafts':   '[Gmail]/Drafts',
                            'sent':     '[Gmail]/Sent Mail',
                            'mon_jira': 'mon/Jira',
                            'flagged':  '[Gmail]/Starred',
                            'spam':     '[Gmail]/Spam',
                            'trash':    '[Gmail]/Trash',
                            'archive':  '[Gmail]/All Mail',
                           }.get(folder, folder)

[Repository Datafloq-Remote]
type = Gmail
sslcacertfile  = /etc/ssl/certs/ca-certificates.crt
remoteusereval = dfUser()
remotepasseval = dfPass()
realdelete = yes
maxconnections = 3
keepconnectionopen = yes
keepalive = 60
idlefolders = ['INBOX', '[Gmail]/Sent Mail']
folderfilter = lambda folder: not re.search('(^[Gmail]/Important$|^mon$)', folder)
nametrans = lambda folder: {'INBOX':             'inbox',
                            '[Gmail]/Drafts':    'drafts',
                            '[Gmail]/Sent Mail': 'sent',
                            'mon/Jira':          'mon_jira',
                            '[Gmail]/Starred':   'flagged',
                            '[Gmail]/Spam':      'spam',
                            '[Gmail]/Trash':     'trash',
                            '[Gmail]/All Mail':  'archive',
                           }.get(folder, folder)
